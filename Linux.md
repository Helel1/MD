# Linux

[TOC]



## 1.课程内容

- 基础篇
  - linux入门
  - vim和linux入门
  - linux目录结构
- 实际操作
  - 远程登录
  - vi和vim
  - 开机重启和用户的注销
  - 使用指令
  - 定时任务调度
  - 磁盘分区，挂载
  - 进程管理
  - prm和yum
  - 网络配置
  - 用户管理
- 2021高级篇
  - 日志管理
  - 定制linux
  - linux内核源码&内核升级
  - linux备份与恢复
  - Linux可视化管理webmin和bt运维工具
  - linux入侵检测
  - linux面试题

- Python定制篇

## 2.基础篇

### 2.1 linux入门

#### 2.1.1 吉祥物 ：Tux

#### 2.1.2 linux之父

- **Linus Torvalds**

- git的创造者
- 世界著名黑客

#### 2.1.3 linux的发行版本

Ubuntu，Radhat， CentOS，Debain[蝶变]，Fedore,，SuSE，OpenSUSE

#### 2.1.4 Linux和Unix的关系

**70s ----> Unix**

![](E:\桌面\截图\linux和Unix的关系.png)

#### 2.1.5 linux的安装

跳过

#### 2.1.6 linux目录结构

- 基本介绍

  1.  linux的文件系统是采用级层式的树状目录结构,在此结构中最上层是根目录“/”,然后在此目录下再创建其它的目录。
  2.  在linux世界里。一切皆文件。

  > linux会把硬件映射成文件来使用

  ![Linux目录结构](G:\思维导图（Xmind）\Linux目录结构.png)

- 具体目录结构(加粗表示常用)
  - **/bin** （/uer/bin, /user/local/bin）:是Binary的缩写，这目录存放着最经常使用的命令
  - **/home**  :存放普通用户的主目录，在Linux 中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名.
  - **/lib**: 系统开机所需要最基本的动态连接共享库，其作用类似于Windows 里的DLL 文件。几乎所有的应用程序都需要用到这些共享库
  - **/etc**: 所有的系统管理所需要的配置文件和子目录, 比如安装mysql 数据库 my.conf
  - **/usr**: 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows 下的program files 目录.
  - **/boot**: 存放的是启动Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件
  - /proc[不能动] :这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息
  - /srv[不能动]:service 缩写，该目录存放一些服务启动之后需要提取的数据
  - /sys[不能动]：这是linux2.6 内核的一个很大的变化。该目录下安装了2.6 内核中新出现的一个文件系统
  - /tem:这个目录是用来存放一些临时文件的
  - **/dev**:类似于windows 的设备管理器，把所有的硬件用文件的形式存储
  - **/media**: linux 系统会自动识别一些设备，例如U 盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个目录下
  -  **/mnt** : 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里的内容了.
  - /opt 这是给主机额外安装软件所存放的目录。如安装ORACLE 数据库就可放到该目录下。默认为空
  -  **/usr/local**:这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的
  - **/var** :这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件
  - /selinux :[security-enhanced linux]
    SELinux 是一种安全子系统,它能控制程序只能访问特定文件, 有三种工作模式，可以自行设置.

#### 2.1.7 实操篇-远程

pass

#### 2.1.8 实操篇-vi和vim的基本介绍

1. 基本介绍

   Linux 系统会内置 vi 文本编辑器。
   Vim 具有程序编辑的能力，可以看做是Vi 的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。
   代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。

2. vi 和 vim 常用的三种模式

   - 正常模式
     以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、粘贴』来处理你的文件数据。

   - 插入模式
     按下i, I, o, O, a, A, r, R 等任何一个字母之后才会进入编辑模式, 一般来说按i 即可.

   - 命令行模式
     输入esc 再输入：在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动作则是在此模式中达成的！

     ![](E:\桌面\截图\vim各种模式切换.png)

3. vim快捷键
   1) 拷贝当前行 yy , 拷贝当前行向下的5 行 5yy，并粘贴（输入p）。
   2) 删除当前行 dd , 删除当前行向下的5 行 5dd
   3) 在文件中查找某个单词 [命令行下 /关键字 ， 回车 查找 , 输入 n 就是查找下一个 ]
   4) 设置文件的行号，取消文件的行号.[命令行下 : set nu 和 :set nonu]
   5) 编辑 /etc/profile 文件，在一般模式下, 使用快捷键到该文档的最末行[G]和最首行[gg::
   6) 在一个文件中输入 "hello" ,在一般模式下, 然后又撤销这个动作 u
   7) 编辑 /etc/profile 文件，在一般模式下, 并将光标移动到 , 输入 20,再输入 shift+g
   8) 更多的看整理的文档
   9) 快捷键的键盘对应图

   ![](E:\桌面\截图\20160907135321944.png)

#### 2.1.9 实操篇-关机&重启命令和用户登录和注销

1. 关机&重启命令基本介绍

   shutdown –h now 立该进行关机
   shudown -h 1 "hello, 1 分钟后会关机了"
   shutdown –r now 现在重新启动计算机
   halt 关机，作用和上面一样.
   reboot 现在重新启动计算机
   sync 把内存的数据同步到磁盘

2.  用户登录和注销基本介绍
   1) 登录时尽量少用root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录
   后再用”su - 用户名’命令来切换成系统管理员身份.
   2) 在提示符下输入 logout 即可注销用户

#### 2.1.10 实操篇-用户管理

1. 基本介绍

   Linux 系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统

2.  添加用户

   - 基本语法
     useradd 用户名

   - 应用案例
     案例1:添加一个用户 milan, 默认该用户的家目录在/home/milan

   - 细节

     当创建用户成功后，会自动的创建和用户同名的家目录

     也可以通过 useradd -d 指定目录 新的用户名，给新创建的用户指定家目录

3.  指定/修改密码
   passwd 用户名
   应用案例
   给milan 指定密码
   passwd milan
   补充，显示当前用户所在的目录 pwd

4.   删除用户
   基本语法
   userdel 用户名
   应用案例
   1) 删除用户milan，但是要保留家目录, userdel milan
   2) 删除用户以及用户主目录, 比如tom, userdel -r tom
   细节说明
   是否保留家目录的讨论? 一般情况下，我们建议保留

5.   查询用户信息指令
   基本语法
   id 用户名 

   应用实例
   案例：请查询root 信息
   id root

6. 切换用户 8.6.1

   介绍 

   在操作Linux 中，如果当前用户的权限不够，可以通过 su - 指令，切换到高权限用户，比如root 

   基本语法 su - 切换用户名

   应用实例 创建一个用户jack, ，指定密码，然后切换到 jack

   细节说明 

   1) 从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。 

   2) 当需要返回到原来用户时，使用exit/logout 指令

7. 查看当前用户/登录用户
   基本语法
   whoami/ who am I

8. 

   

   

